(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{8732:function(e,t,n){Promise.resolve().then(n.bind(n,3683))},3683:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return page}});var r=n(7437),a=n(6974),o=n(7106),s=n(4033);n(2265);var Home_CheckoutForm=function(e){let{amount:t}=e,n=(0,a.useStripe)(),o=(0,a.useElements)(),handleSubmit=async e=>{if(e.preventDefault(),null==o)return;let{error:r}=await o.submit();if(r)return;let a=await fetch("/api/create-intent",{method:"POST",body:JSON.stringify({amount:t})}),s=await a.json();console.log(s);let{error:u}=await n.confirmPayment({clientSecret:s,elements:o,confirmParams:{return_url:"http://localhost:3000/payment-confirm"}})};return(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center w-full mt-6",children:[(0,r.jsxs)("h2",{className:"m-5 font-bold",children:["Amount to Pay: ",t]}),(0,r.jsxs)("form",{onSubmit:handleSubmit,className:"max-w-md",children:[(0,r.jsx)(a.PaymentElement,{}),(0,r.jsx)("button",{className:"w-full bg-black text-white p-2 rounded-lg mt-2",children:"Pay"})]})]})},page=function(){let e=(0,s.useSearchParams)(),t=e.get("amount"),n=(0,o.J)("pk_test_51IJkbfFqnkowMQfhcNuRa8bI8RANXE5rhRfb65RLVqAIzj68R0LEJnlWQAtnzoYVjRK4eyRQLVIzrAYBUp6b1e6u00Hpshb9rc");return(0,r.jsx)(a.Elements,{stripe:n,options:{mode:"payment",amount:Math.round(100*t),currency:"gbp"},children:(0,r.jsx)(Home_CheckoutForm,{amount:t})})}}},function(e){e.O(0,[577,971,472,744],function(){return e(e.s=8732)}),_N_E=e.O()}]);